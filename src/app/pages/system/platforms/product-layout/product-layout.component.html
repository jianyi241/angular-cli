<div class="main main-form main-form-with-tab"
     [ngClass]="{'main-form-has-tip': version.type === 'History' || showTip('oneOrMore') || showTip('frozen')  || showTip('rejected')}">

    <div class="head-tip" [ngClass]="tipInfo().tipCls" *ngIf="tipInfo().show">
        <div class="head-tip-content">
            <div class="tip-content">
                <div class="title" [ngClass]="tipInfo().textCls" >{{tipInfo().title}}</div>
                <div class="text" [ngClass]="tipInfo().textCls" >{{tipInfo().text}}</div>
            </div>
        </div>
    </div>
    <div class="sub-head sub-head-form">
        <div class="sub-title" (click)="backPage()">
            <span class="icon-block icon-arr-left-long icon-31 xs-mr-16"></span>
            {{product.name}}
        </div>

        <div class="btn-control-group"
             *ngIf="version.type && currentTab != 'change-history' && version.type != 'History'">
            <!--            <button class="btn text-danger">Archive</button>-->
            <div *ngIf="currentUserService.isAdminUser()">
                <button class="btn tx-red xs-ml-24" *ngIf="showEditButton('reject')" (click)="rejectUpdate()">Reject
                </button>
                <button class="btn btn-outline-blue-light xs-ml-24" *ngIf="showEditButton('edit')"
                        (click)="editProduct()">Edit
                </button>
                <button class="btn btn-purple xs-ml-24" *ngIf="showEditButton('approve')"
                        (click)="updateVersionStatus('Frozen')">Approve
                </button>
            </div>
            <div *ngIf="currentUserService.isSupplierUser()">
                <button class="btn btn-outline-blue-light xs-ml-24" *ngIf="showEditButton('edit')"
                        (click)="editProduct()">Edit Product
                </button>
                <button class="btn btn-purple xs-ml-24" *ngIf="showEditButton('updateStatus')"
                        (click)="updateVersionStatus('Wait')">Submit for review
                </button>
                <button class="btn btn-purple xs-ml-24" *ngIf="showEditButton('submit')" (click)="publishProduct()">
                    Submit for review
                </button>
            </div>
        </div>
    </div>

    <div class="tab-menu">
        <div class="tab-text {{configService.activeMatch(tab.name)}}"
             (click)="chooseTab(tab.name)"
             *ngFor="let tab of configService.tabTypeList()">
            {{tab.name}}
            <span class="line"></span>
            <span class="dot" *ngIf="isChange(tab.value)"></span>
        </div>
    </div>

    <router-outlet></router-outlet>
</div>
